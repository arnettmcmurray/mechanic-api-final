{
  "info": {
    "name": "Mechanic API Final â€“ Clean Aligned",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "base_url", "value": "http://127.0.0.1:5000" },
    { "key": "token", "value": "" }
  ],
  "item": [
    {
      "name": "Ping (Server Check)",
      "request": {
        "method": "GET",
        "url": "{{base_url}}/ping"
      }
    },
    {
      "name": "Mechanics",
      "item": [
        {
          "name": "Login Mechanic",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{base_url}}/mechanics/login",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@shop.com\",\n  \"password\": \"admin123\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "let res = pm.response.json();",
                  "if (res.token) {",
                  "  pm.environment.set('token', res.token);",
                  "  console.log('Token set to environment.');",
                  "} else {",
                  "  console.log('No token in response.');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Mechanic",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/mechanics/create",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"New Guy\",\n  \"email\": \"new@shop.com\",\n  \"password\": \"newpass\",\n  \"specialty\": \"Engine\"\n}"
            }
          }
        },
        {
          "name": "Get All Mechanics",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/mechanics/get_all"
          }
        },
        {
          "name": "Get One Mechanic",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/mechanics/get_one",
            "body": { "mode": "raw", "raw": "{\n  \"id\": 1\n}" }
          }
        },
        {
          "name": "Update Mechanic",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/mechanics/update",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": 1,\n  \"specialty\": \"Diagnostics\"\n}"
            }
          }
        },
        {
          "name": "Delete Mechanic",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/mechanics/delete",
            "body": { "mode": "raw", "raw": "{\n  \"id\": 2\n}" }
          }
        },
        {
          "name": "My Tickets",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/mechanics/my_tickets"
          }
        },
        {
          "name": "Top Mechanic",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/mechanics/top"
          }
        }
      ]
    },
    {
      "name": "Customers",
      "item": [
        {
          "name": "Create Customer",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/customers/create",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Alice Johnson\",\n  \"email\": \"alice@example.com\",\n  \"phone\": \"312-555-1234\",\n  \"car\": \"Honda Accord\"\n}"
            }
          }
        },
        {
          "name": "Get All Customers",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/customers/get_all"
          }
        },
        {
          "name": "Get One Customer",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/customers/get_one",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"john@example.com\"\n}"
            }
          }
        },
        {
          "name": "Update Customer",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/customers/update",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": 1,\n  \"phone\": \"312-555-5678\"\n}"
            }
          }
        },
        {
          "name": "Delete Customer",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/customers/delete",
            "body": { "mode": "raw", "raw": "{\n  \"id\": 1\n}" }
          }
        }
      ]
    },
    {
      "name": "Inventory",
      "item": [
        {
          "name": "Create Part",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/inventory/create",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Rotor\",\n  \"price\": 120.0,\n  \"quantity\": 5\n}"
            }
          }
        },
        {
          "name": "Get All Parts",
          "request": {
            "method": "POST",
            "url": "{{base_url}}/inventory/get_all"
          }
        },
        {
          "name": "Get One Part",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "url": "{{base_url}}/inventory/get_one",
            "body": { "mode": "raw", "raw": "{\n  \"id\": 1\n}" }
          }
        },
        {
          "name": "Update Part",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/inventory/update",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"id\": 1,\n  \"quantity\": 15\n}"
            }
          }
        },
        {
          "name": "Delete Part",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/inventory/delete",
            "body": { "mode": "raw", "raw": "{\n  \"id\": 1\n}" }
          }
        }
      ]
    },
    {
      "name": "Service Tickets",
      "item": [
        {
          "name": "Create Ticket",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Content-Type", "value": "application/json" },
              { "key": "Authorization", "value": "Bearer {{token}}" }
            ],
            "url": "{{base_url}}/service_tickets/create",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Brake inspection\",\n  \"customer_id\": 1\n}"
            }
          }
        },
        {
          "name": "Get All Tickets",
          "request": {
            "method": "POST",
            "header": [{ "key": "Authorization", "value": "Bearer {{token}}" }],
            "url": "{{base_url}}/service_tickets/get_all"
          }
        },
        {
          "name": "Get One Ticket",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/service_tickets/get_one",
            "body": { "mode": "raw", "raw": "{\n  \"ticket_id\": 1\n}" }
          }
        },
        {
          "name": "Update Ticket",
          "request": {
            "method": "PUT",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/service_tickets/update",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ticket_id\": 1,\n  \"status\": \"Closed\"\n}"
            }
          }
        },
        {
          "name": "Delete Ticket",
          "request": {
            "method": "DELETE",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/service_tickets/delete",
            "body": { "mode": "raw", "raw": "{\n  \"ticket_id\": 1\n}" }
          }
        },
        {
          "name": "Assign Mechanic",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/service_tickets/assign",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ticket_id\": 1,\n  \"mech_id\": 1\n}"
            }
          }
        },
        {
          "name": "Add Parts",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Authorization", "value": "Bearer {{token}}" },
              { "key": "Content-Type", "value": "application/json" }
            ],
            "url": "{{base_url}}/service_tickets/add_parts",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ticket_id\": 1,\n  \"parts\": [ { \"part_id\": 1 } ]\n}"
            }
          }
        }
      ]
    }
  ]
}
